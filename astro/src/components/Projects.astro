---
import ProjectCard from './ProjectCard.astro';
import projectsData from '../data/projects.json';

// Type assertion for the projects data
type ProjectSize = 'S' | 'M' | 'L';
interface Project {
	id: number;
	name: string;
	size: ProjectSize;
	image: string;
	technologies: string[];
	description: string;
	showMoreButton: boolean;
	link: string;
}

const projects = projectsData as Project[];
// Filter to only show projects with id 1-4
const displayedProjects = projects.filter(project => project.id >= 1 && project.id <= 4);
---

<section class="min-h-screen w-full flex items-center justify-center p-4 bg-Background1">
	<!-- Centered container with curved edges and different background -->
	<div class="w-full max-w-7xl h-auto min-h-[90vh] rounded-2xl p-12 shadow-lg bg-Background2">
		
		<!-- Projects content -->
		<h2 class="text-4xl font-Display1 mb-12 text-center text-Neutral-Dark">Projects</h2>
		
		<!-- Projects Grid -->
		<div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
			{displayedProjects.map((project) => (
				<ProjectCard
					name={project.name}
					size={project.size}
					image={project.image}
					technologies={project.technologies}
					description={project.description}
					showMoreButton={project.showMoreButton}
					link={project.link}
				/>
			))}
		</div>

		<!-- More Projects Button -->
		<div class="flex justify-center">
			<a 
				href="/projects" 
				class="px-8 py-3 rounded-lg font-Display2 font-medium text-lg transition-all duration-300 bg-Primary2 text-white hover:-translate-y-0.5 hover:shadow-xl hover:opacity-90"
			>
				More Projects
			</a>
		</div>

	</div>
</section>